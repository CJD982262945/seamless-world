<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1716" height="581" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title:服务器组内实体消息传递过程2 - server.Server => entity.Entity
Note left of server.Server:1. 使用EntityMsgTransport消息包裹实体消息
server.Server->other server.Server(s): 2. 网络投递EntityMsgTransport消息
Note right of other server.Server(s): 3. 函数Server.MsgProc_EntityMsgTransport，\n根据SpaceID字段找到entity.Entities
other server.Server(s)->entity.Entities: 4.进程内继续投递EntityMsgTransport消息
Note right of entity.Entities: 5. 函数Entities.MsgProc_EntityMsgTransport内，\n根据EntityID字段获取entity.Enity实体，\n并解包获取实体消息
entity.Entities->entity.Entity:6. 进程内投递实体消息
Note right of entity.Entity: 消息回调函数处理:\nMsgProc_RPCMsg\nMsgProc_PropsSync]]></source><desc>服务器组内实体消息传递过程2 - server.Server =&gt; entity.Entity</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="481.109375" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="17.21875" y="30.546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">服务器组内实体消息传递过程2 - server.Server =&gt; entity.Entity</tspan></text></g><g class="actor"><rect x="309.4453125" y="50" width="123.328125" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="320.5546875" y="74.4375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="319.4453125">server.Server</tspan></text></g><g class="actor"><rect x="309.4453125" y="523.71875" width="123.328125" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="320.5546875" y="548.15625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="319.4453125">server.Server</tspan></text></g><line x1="371.109375" x2="371.109375" y1="87.765625" y2="523.71875" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="553.875" y="50" width="192.21875" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="564.984375" y="74.4375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="563.875">other server.Server(s)</tspan></text></g><g class="actor"><rect x="553.875" y="523.71875" width="192.21875" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="564.984375" y="548.15625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="563.875">other server.Server(s)</tspan></text></g><line x1="649.984375" x2="649.984375" y1="87.765625" y2="523.71875" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="959.421875" y="50" width="138.875" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="970.53125" y="73.328125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="969.421875">entity.Entities</tspan></text></g><g class="actor"><rect x="959.421875" y="523.71875" width="138.875" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="970.53125" y="547.046875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="969.421875">entity.Entities</tspan></text></g><line x1="1028.859375" x2="1028.859375" y1="87.765625" y2="523.71875" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="1376.625" y="50" width="124.4375" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1387.734375" y="73.328125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1386.625">entity.Entity</tspan></text></g><g class="actor"><rect x="1376.625" y="523.71875" width="124.4375" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1387.734375" y="547.046875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1386.625">entity.Entity</tspan></text></g><line x1="1438.84375" x2="1438.84375" y1="87.765625" y2="523.71875" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="note"><rect x="20" y="107.765625" width="331.109375" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="26.109375" y="128.3125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="25">1. 使用EntityMsgTransport消息包裹实体消息</tspan></text></g><g class="signal"><text x="382.21875" y="168.3125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="381.109375">2. 网络投递EntityMsgTransport消息</tspan></text><line x1="371.109375" x2="649.984375" y1="177.765625" y2="177.765625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="669.984375" y="197.765625" width="338.875" height="49.1875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="677.203125" y="218.3125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="674.984375">3. 函数Server.MsgProc_EntityMsgTransport，</tspan><tspan dy="1.2em" x="674.984375">根据SpaceID字段找到entity.Entities</tspan></text></g><g class="signal"><text x="692.203125" y="277.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="689.984375">4.进程内继续投递EntityMsgTransport消息</tspan></text><line x1="649.984375" x2="1028.859375" y1="286.953125" y2="286.953125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="1048.859375" y="306.953125" width="369.984375" height="68.390625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1056.078125" y="327.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1053.859375">5. 函数Entities.MsgProc_EntityMsgTransport内，</tspan><tspan dy="1.2em" x="1053.859375">根据EntityID字段获取entity.Enity实体，</tspan><tspan dy="1.2em" x="1053.859375">并解包获取实体消息</tspan></text></g><g class="signal"><text x="1152.7421875" y="405.890625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1150.5234375">6. 进程内投递实体消息</tspan></text><line x1="1028.859375" x2="1438.84375" y1="415.34375" y2="415.34375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="1458.84375" y="435.34375" width="145.546875" height="68.375" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1466.0625" y="455.890625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1463.84375">消息回调函数处理:</tspan><tspan dy="1.2em" x="1463.84375">MsgProc_RPCMsg</tspan><tspan dy="1.2em" x="1463.84375">MsgProc_PropsSync</tspan></text></g></svg>