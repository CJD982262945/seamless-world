<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1523" height="592" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title:Entity创建流程
Note left of server.Server:1. 服务器业务逻辑调用函数：\nentity.Entities.CreateEntityAll
Note right of server.Server:2. 服务器自身调用函数：\nentity.Entities.CreateEntity，\n创建Entity
server.Server->global.Global: 3. 进程内请求获取“哪些类型服务需要创建实体”
global.Global-->server.Server: 返回“服务类型”列表
server.Server->serverMgr.ServerMgr: 4. 根据列表，进程内请求“获取某服务类型的一个服务”
serverMgr.ServerMgr-->server.Server: 返回服务器ID列表
server.Server->other server.Server(s): 5. 发送msgdef.CreateEntityReq
Note right of other server.Server(s): 6. 函数MsgProc_CreateEntityReq内，调用：\nentity.Entities.CreateEntity，创建Entity]]></source><desc>Entity创建流程</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="122.21875" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="17.21875" y="30.546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">Entity创建流程</tspan></text></g><g class="actor"><rect x="231.6640625" y="50" width="123.328125" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="242.7734375" y="74.4375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="241.6640625">server.Server</tspan></text></g><g class="actor"><rect x="231.6640625" y="534.515625" width="123.328125" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="242.7734375" y="558.953125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="241.6640625">server.Server</tspan></text></g><line x1="293.328125" x2="293.328125" y1="87.765625" y2="534.515625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="602.7734375" y="50" width="123.328125" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="613.8828125" y="73.328125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="612.7734375">global.Global</tspan></text></g><g class="actor"><rect x="602.7734375" y="534.515625" width="123.328125" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="613.8828125" y="557.84375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="612.7734375">global.Global</tspan></text></g><line x1="664.4375" x2="664.4375" y1="87.765625" y2="534.515625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="746.1015625" y="50" width="170" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="757.2109375" y="73.328125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="756.1015625">serverMgr.ServerMgr</tspan></text></g><g class="actor"><rect x="746.1015625" y="534.515625" width="170" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="757.2109375" y="557.84375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="756.1015625">serverMgr.ServerMgr</tspan></text></g><line x1="831.1015625" x2="831.1015625" y1="87.765625" y2="534.515625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="936.1015625" y="50" width="192.21875" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="947.2109375" y="74.4375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="946.1015625">other server.Server(s)</tspan></text></g><g class="actor"><rect x="936.1015625" y="534.515625" width="192.21875" height="37.765625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="947.2109375" y="558.953125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="946.1015625">other server.Server(s)</tspan></text></g><line x1="1032.2109375" x2="1032.2109375" y1="87.765625" y2="534.515625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="note"><rect x="20" y="107.765625" width="253.328125" height="49.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="26.109375" y="128.3125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="25">1. 服务器业务逻辑调用函数：</tspan><tspan dy="1.2em" x="25">entity.Entities.CreateEntityAll</tspan></text></g><g class="note"><rect x="313.328125" y="176.9375" width="245.546875" height="68.390625" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="320.546875" y="197.484375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="318.328125">2. 服务器自身调用函数：</tspan><tspan dy="1.2em" x="318.328125">entity.Entities.CreateEntity，</tspan><tspan dy="1.2em" x="318.328125">创建Entity</tspan></text></g><g class="signal"><text x="304.4375" y="275.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="303.328125">3. 进程内请求获取“哪些类型服务需要创建实体”</tspan></text><line x1="293.328125" x2="664.4375" y1="285.328125" y2="285.328125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="401.6640625" y="315.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="399.4453125">返回“服务类型”列表</tspan></text><line x1="664.4375" x2="293.328125" y1="325.328125" y2="325.328125" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="364.99609375" y="355.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="362.77734375">4. 根据列表，进程内请求“获取某服务类型的一个服务”</tspan></text><line x1="293.328125" x2="831.1015625" y1="365.328125" y2="365.328125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="500.55078125" y="395.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="498.33203125">返回服务器ID列表</tspan></text><line x1="831.1015625" x2="293.328125" y1="405.328125" y2="405.328125" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="549.44140625" y="435.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="548.33203125">5. 发送msgdef.CreateEntityReq</tspan></text><line x1="293.328125" x2="1032.2109375" y1="445.328125" y2="445.328125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="1052.2109375" y="465.328125" width="325.546875" height="49.1875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1059.4296875" y="485.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1057.2109375">6. 函数MsgProc_CreateEntityReq内，调用：</tspan><tspan dy="1.2em" x="1057.2109375">entity.Entities.CreateEntity，创建Entity</tspan></text></g></svg>