## Struct协议

TimeFire对struct做反射序列化、反序列化struct协议。

具体过程参见：server/src/zeus/common/ByteStream.go


## ClientVertifyReq

```go
type ClientVertifyReq struct {
	Source uint8
	UID uint64
	Token string
}
```

  - struct协议
  - client -> gateway
  - Source 填 0
  - 连接服务器后的第一条消息


## ClientVertifySucceedRet

```go
type ClientVertifySucceedRet struct {
	Source uint8
	UID uint64
	SourceID uint64
	Type uint8
}
```

  - struct协议
  - gateway -> client
  - 表示验证通过
  - 可以获取账号UID


## ClientVertifyFailedRet

```go
type ClientVertifyFailedRet struct {
}
```

  - struct协议
  - gateway -> client
  - 表示验证失败


## ProtoSync

```go
type ProtoSync struct {
	Data []byte
}
```

  - `非正规struct协议`

    没有通过ByteStream类做系列化、反序列。

    即消息体内容：非 [2byte] + [len(Data)]，而是 直接 [len(Data)]。

  - gateway -> client

  - Data字段是JSON数据

    类似：

    ```json
    {"402":"UserMainDataNotify","403":"Vector3","404":"T_Object","405":"ChracterMapDataInfo","406":"RefreshObjectNotify","12407":"UseObjectReq","408":"RemoveObjectNotify","409":"RefreshGunNotify","410":"DropGunNotify","411":"ExchangeGunRet","12412":"GunReformReq","12413":"GunReformUnequipReq","414":"AttackReq","415":"BulletHoleReq","12416":"ShootReq","417":"MapCharacterResultNotify","418":"ChatNotify","419":"ZoneNotify","12420":"ChangeBulletReq","421":"ChangeBulletRet","422":"TeamMemberInfo","423":"SyncTeamInfoRet","424":"RefreshPackCellNotify","12425":"SummonAINotify","426":"RefreshGunBulletNotify","427":"InitRoomTeamPlayerItem","428":"InitRoomTeamInfoRet","429":"SyncRoomTeamPlayerItem","430":"SymcRoomTeamInfoRet","431":"DieNotifyRet","432":"VehicleDamagedWheels","433":"VehiclePlayers","434":"ItemProp","435":"RefreshBoxObjNotify","436":"HeadProp","437":"BodyProp","438":"BackPackProp","439":"PlayerRegister","440":"PlayerLogin","441":"PlayerLogout","442":"MailObject","443":"MailInfo","444":"ReqGetMailList","445":"RetMailList","446":"ReqMailInfo","447":"RetMailInfo","448":"DelMail","449":"GetMailObj","450":"AnnuonceInfo","451":"InitAnnuonceInfoRet","452":"FriendInfo","453":"PlatFriendStateReq","454":"PlatFriendState","455":"PlatFriendStateRet","456":"FriendRankInfo","457":"SyncFriendRankList","458":"SyncFriendList","459":"FriendApplyInfo","460":"SyncFriendApplyList","461":"DoSendItemReq","462":"GameSvrState","463":"RoundFlow","464":"CareerData","465":"CareerBase","466":"MatchRecord","467":"DayRecordData","468":"SettleDayData","469":"DayTag","470":"DamageDefend","471":"ThrowDamageInfo","472":"DoorList","473":"DoorData","474":"LogItem","475":"SpaceLogInfo","476":"GuideFlow","477":"ChatFlow","478":"BattleItemFlow","479":"BattleFlow","480":"BattleResult","481":"MatchFlow","482":"LiveFlow","483":"GunFlow","484":"CampFlow","485":"ShopFlow","486":"OperFlow","487":"MoneyFlow","488":"SnsFlow","489":"SecGameStartFlow","490":"SecGameEndFlow","491":"ShareRMBMoney","492":"OwnGoodsItem","493":"OwnGoodsInfo","494":"MemVoiceInfo","495":"TeamVoiceInfo","496":"SettleMemInfo","497":"SettleInfo","498":"LobboySceneMemberSlot","499":"SyncLobboySceneMembersSlotsInfo","500":"ReqChangeLobboySceneMemberSlot","501":"BarrierList","502":"BarrierData"}
    ```


## MRolePropsSyncClient

```go
type MRolePropsSyncClient struct {
	EntityID uint64
	Num      uint32
	Data     []byte
}
```

  - struct协议
  - gateway -> client
  - 账号相关信息，基本都是主界面上需要显示的信息
  - 可以获取账号EntityID
  - 可以开始与Lobby交互
