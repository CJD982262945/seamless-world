<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="815" height="502" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title: 账号登录
Client->Gateway: msgdef.ClientVertifyReq
Gateway->RedisForServer (Redis): 1. 获取Token
RedisForServer (Redis)-->Gateway: 返回获取Token结果
Note right of Gateway: 2. 验证Token
Gateway-->Client: 2. 若验证Token失败，断开连接
Note right of Gateway: 3. 若验证Token成功，创建Player实体(略)
Gateway-->Client: 3. 若创建Player实体失败，断开连接
Gateway-->Client: ClientVertifySucceedRet]]></source><desc>账号登录</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="77" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="17" y="31" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">账号登录</tspan></text></g><g class="actor"><rect x="10" y="50" width="70" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="22" y="75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">Client</tspan></text></g><g class="actor"><rect x="10" y="444" width="70" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="22" y="469" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">Client</tspan></text></g><line x1="45" x2="45" y1="88" y2="444" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="291" y="50" width="80" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="303" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="301">Gateway</tspan></text></g><g class="actor"><rect x="291" y="444" width="80" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="303" y="468" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="301">Gateway</tspan></text></g><line x1="331" x2="331" y1="88" y2="444" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="587" y="50" width="198" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="599" y="75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="597">RedisForServer (Redis)</tspan></text></g><g class="actor"><rect x="587" y="444" width="198" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="599" y="469" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="597">RedisForServer (Redis)</tspan></text></g><line x1="686" x2="686" y1="88" y2="444" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="96" y="118" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="94">msgdef.ClientVertifyReq</tspan></text><line x1="45" x2="331" y1="126" y2="126" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="460" y="157" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="459">1. 获取Token</tspan></text><line x1="331" x2="686" y1="166" y2="166" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="441" y="197" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="439">返回获取Token结果</tspan></text><line x1="686" x2="331" y1="206" y2="206" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="351" y="226" width="109" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="357" y="247" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="356">2. 验证Token</tspan></text></g><g class="signal"><text x="76" y="287" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="75">2. 若验证Token失败，断开连接</tspan></text><line x1="331" x2="45" y1="296" y2="296" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="351" y="316" width="315" height="30" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="357" y="337" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="356">3. 若验证Token成功，创建Player实体(略)</tspan></text></g><g class="signal"><text x="56" y="377" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="55">3. 若创建Player实体失败，断开连接</tspan></text><line x1="331" x2="45" y1="386" y2="386" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="97" y="416" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="95">ClientVertifySucceedRet</tspan></text><line x1="331" x2="45" y1="424" y2="424" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>