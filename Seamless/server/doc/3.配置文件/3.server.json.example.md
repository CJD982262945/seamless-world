## 如何使用

server.json.example因为文件内容可能有不同配置，因此这里提供的是一个例子文件

需要拷贝server.json.example并重命名为server.json，方起作用。


## 文件字段介绍

下面按每节内容分别介绍之：

#### Login

字段名             | 说明
-------------------|----------------
Login.Addr         | Login服务对外地址
Login.Port         | Login服务对外端口号
Login.MaxConns     | 连接数限制
Login.AllowVersion | 若 Login.VersionCheck 为true，则限制客户端版本为AllowVersion这个版本
Login.VersionCheck | 是否做客户端版本验证
Login.AllowGrade   | 白名单机制，根据用户Grade等级决定是否允许登录
Login.InitGrade    | 创建玩家时的用户Grade等级。外网通常会设置成2。开发测试服，通常设置为0，是GM
Login.ForceCreate  | 用户不存在时，是否自动创建用户
Login.ForceChannel | 为true，则目前只能QQ、Weixin、Guest这几种方式登录。
Login.RequireHost  | 为true，则只允许域名访问login服务。
Login.Log          | 是否打印http相关信息


#### Gateway

字段名               | 说明
---------------------|----------------
Gateway.FlagId       | 本服务节点的服务ID
Gateway.InnerAddr    | 服务器组内提供服务的地址
Gateway.OuterAddr    | 对客户端提供的外网地址（IP），本质上和Gateway.OuterListen是一样的。但这里需要提供的是IP值，而不能填0.0.0.0
Gateway.OuterPort    | 使用指定的对外网端口号，而不是随机
Gateway.OuterListen  | 对客户端提供的外网地址（IP），通常写成了0.0.0.0
Gateway.OuterPortMin | 用于随机一个可用的外网端口号
Gateway.OuterPortMax | 用于随机一个可用的外网端口号
Gateway.PortMin      | 用于随机一个可用的服务器组内提供服务的端口号
Gateway.PortMax      | 用于随机一个可用的服务器组内提供服务的端口号
Gateway.MaxConns     | 连接数限制
Gateway.FPS          | 主循环每秒帧数
Gateway.ProtoFile    | proto.json所在路径。客户端登录时会发给客户端


#### Lobby

字段名               | 说明
---------------------|----------------
Lobby.FlagId       | 本服务节点的服务ID
Lobby.InnerAddr    | 服务器组内提供服务的地址
Lobby.FPS          | 主循环每秒帧数
Lobby.PortMin      | 用于随机一个可用的服务器组内提供服务的端口号
Lobby.PortMax      | 用于随机一个可用的服务器组内提供服务的端口号
Lobby.MySQLUser    | 各渠道在线人数记录 - MySql数据库配置 - 账号
Lobby.MySQLPwd     | 各渠道在线人数记录 - MySql数据库配置 - 密码
Lobby.MySQLAddr    | 各渠道在线人数记录 - MySql数据库配置 - 地址
Lobby.MySQLDB      | 各渠道在线人数记录 - MySql数据库配置 - 数据库名
Lobby.MySQLTable   | 各渠道在线人数记录 - MySql数据库配置 - 数据库表名
Lobby.Solo         | 是否开启单人匹配
Lobby.Duo          | 是否开启双人匹配
Lobby.Squad        | 是否开启四人匹配


#### Room

字段名               | 说明
---------------------|----------------
Room.FlagId          | 本服务节点的服务ID
Room.InnerAddr       | 服务器组内提供服务的地址
Room.PortMin         | 用于随机一个可用的服务器组内提供服务的端口号
Room.PortMax         | 用于随机一个可用的服务器组内提供服务的端口号
Room.OuterAddr       | 对客户端提供的外网地址（IP），本质上和Room.OuterListen是一样的。但这里需要提供的是IP值，而不能填0.0.0.0
Room.OuterPort       | 使用指定的对外网端口号，而不是随机
Room.OuterListen     | 对客户端提供的外网地址（IP），通常写成了0.0.0.0
Room.OuterPortMin    | 用于随机一个可用的外网端口号
Room.OuterPortMax    | 用于随机一个可用的外网端口号
Room.MaxConns        | 连接数限制
Room.FPS             | 主循环每秒帧数
Room.SafeCheckHeight | 是否开启 对位置坐标的 “校验Y坐标改变是否合法”
Room.CheckHeadShot   | 为false，则无法爆头；为true，会检查爆头


#### Match

字段名               | 说明
---------------------|----------------
Match.FlagId          | 本服务节点的服务ID
Match.InnerAddr       | 服务器组内提供服务的地址
Match.FPS             | 主循环每秒帧数
Match.PortMin         | 用于随机一个可用的服务器组内提供服务的端口号
Match.PortMax         | 用于随机一个可用的服务器组内提供服务的端口号


#### Center

字段名               | 说明
---------------------|----------------
Center.FlagId          | 本服务节点的服务ID
Center.InnerAddr       | 服务器组内提供服务的地址
Center.FPS             | 主循环每秒帧数
Center.PortMin         | 用于随机一个可用的服务器组内提供服务的端口号
Center.PortMax         | 用于随机一个可用的服务器组内提供服务的端口号
Center.IDIPAddr        | IDIP服务地址
Center.IDIPPort        | IDIP服务端口号


#### DataCenter

字段名               | 说明
---------------------|----------------
DataCenter.InnerAddr       | 服务器组内提供服务的地址
DataCenter.InnerPort       | 服务器组内提供服务的地址
DataCenter.OuterListen     | 对客户端提供的外网地址（IP），通常写成了0.0.0.0
DataCenter.OuterListenPort | 对客户端提供的外网端口号
DataCenter.OuterPort       | DataCenter.OuterListenPort 、DataCenter.OuterPort必须相同
DataCenter.MySQLUser           | MySql数据库 - 账号
DataCenter.MySQLPwd            | MySql数据库 - 密码
DataCenter.MySQLAddr           | MySql数据库 - 地址
DataCenter.MySQLDB             | MySql数据库 - 数据库名
DataCenter.MySQLMaxOpenConns   | MySql客户端初始化用 - 最大激活连接数（连接池）
DataCenter.MySQLMaxIdleConns   | MySql客户端初始化用 - 最大空闲连接数（连接池）
DataCenter.MySQLMaxLifetime    | MySql客户端初始化用 - 激活连接最长多久被关闭（连接池）
DataCenter.MySQLRoundTable     | MySql数据库 - 表名
DataCenter.MySQLDayTable       | MySql数据库 - 表名
DataCenter.MySQLSearchNumTable | MySql数据库 - 表名


#### IDIP

暂略


#### DB、RedisForServer、SingletonRedis、RankRedis

Redis配置，很清晰，不写了


#### Config

字段名               | 说明
-----------------------------|----------------
Config.HeartBeat             | 是否开启心跳检查
Config.LogDir                | 日志目录
Config.Debug                 | 是否开启go pprof；值为1：Room服务logItem
Config.LogLevel              | 日志等级
Config.Recover               | 如何处理异常。值为1，抛异常结束进程
Config.TLogAddr              | 不为空，日志重定向到远端Log服务器
Config.HBTimer               | Config.HeartBeat为true时，作为服务器对它的客户端做心跳的间隔
Config.HBTicker              | Config.HeartBeat为true时，作为客户端对它的服务器发送心跳的间隔
Config.MaxLoad               | 负载阀值
Config.RedisHealthCheckTimer | 对redis做心跳的间隔
Config.EncryptEnabled        | 是否加密消息
Config.MSDKAddr              |

#### Admin

暂略
